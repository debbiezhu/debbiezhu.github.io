---
source: https://www.bilibili.com/video/BV1Ns4y1r7nR?spm_id_from=333.788.videopod.sections&vd_source=549bde2564979641a5f0adbcfa529b0a
title: 微服务 05｜负载均衡算法有哪些｜轮询｜一致性哈希｜kitex 源码｜面试经典
---

#负载均衡
# why
看看负载均衡的方法

# conclusion
- why 负载均衡 算法
	- 均衡各个节点负责
	- 谁快选谁
- 常见的 负载均衡 算法
	- **随机**, 最少见
	- 加权随机, 给每个节点一个权重, 牛逼的机器更有可能分配到负载.
		- 一般各个节点都是一样的. 所以, 加权比较少用
	- **轮询**, 最多见, 挨个地去分配
	- 加权轮询, 给每个节点一个权重, 谁处理得多, 谁的权重就高一点儿; 同理, 谁处理是失败了, 就减一点儿权重.
	- **哈希**, 通过一个 hash 函数, 结果指向谁, 就给谁.
	- 一致性哈希, 把节点分布在一个环上, hash 结果越靠近谁, 就给谁. 
		- 与 **本地缓存** 结合, 同一来源的 hash 结果不变, 使得 **本地缓存** 的命中率高
	- **指标类**
		- 最少连接法, 谁曾经处理得最少, 谁接客
		- 最少活跃数, 谁当前最先, 谁接客
		- 最快响应时间, 平均下来谁最快, 谁接客
# rate
4
