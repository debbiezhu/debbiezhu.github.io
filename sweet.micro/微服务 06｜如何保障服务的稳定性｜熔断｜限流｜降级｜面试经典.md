---
source: https://www.bilibili.com/video/BV1SV411N7RK?spm_id_from=333.788.videopod.sections&vd_source=549bde2564979641a5f0adbcfa529b0a
title: 微服务 06｜如何保障服务的稳定性｜熔断｜限流｜降级｜面试经典
---

#熔断 #限流
# why
看看熔断
# conclusion
- 熔断
	- server 端需要恢复. 所以, 停止向 server 发请求. 避免 chain reaction 的请求堆积
	- 3 个状态: closed -> open <-> half-open -> closed
- 限流
	- 避免服务走到 熔断 这一步的方法.
	- 算法:
		- 令牌桶: 请求来, 就去桶里拿 token; 有 token 的请求才会被处理.
		- 漏桶: 令牌桶的 token 可以攒积. 漏桶 token 有时效性, 过时不侯.
		- 固定窗口: 固定时间段内, 仅处理固定数量的请求.
		- 滑动窗口: 
			- 每个 time span 不再是连续的头尾相接, 而是有一定的重叠. 比如, 1st time span 处理 0~60s 的请求, 2nd time span 处理 1~61s 的请求.
			- 解决掉 固定窗口 的临界区间陡然大量的请求.
# rate
4
